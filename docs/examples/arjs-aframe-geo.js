(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{9:function(e,t){var n=function(e){return function(e){var t={radius:300,clientId:"HGI5G33JBRJH551FXSKFDN44R4ATNMCLHIN5GFUAB1JMSTRL",clientSecret:"UQF1XXFG3IBLJA4ZU5NK5SUMAO3KFBXR1BFPXFI5ORRU0KVJ",version:"20300101"},n="https://api.foursquare.com/v2/venues/search?intent=checkin\n      &ll="+e.latitude+","+e.longitude+"\n      &radius="+t.radius+"\n      &client_id="+t.clientId+"\n      &client_secret="+t.clientSecret+"\n      &limit=15\n      &v="+t.version;return fetch(n).then(function(e){return e.json().then(function(e){return e.response.venues})}).catch(function(e){console.error("Error with places API",e)})}(e)};window.onload=function(){var e=document.querySelector("a-scene");return navigator.geolocation.getCurrentPosition(function(t){n(t.coords).then(function(t){t.forEach(function(t){var n=t.location.lat,i=t.location.lng,r=document.createElement("a-image");r.setAttribute("gps-entity-place","latitude: "+n+"; longitude: "+i),r.setAttribute("name",t.name),r.setAttribute("src","data/img/map-marker.png"),r.setAttribute("scale","20, 20"),r.addEventListener("loaded",function(){return window.dispatchEvent(new CustomEvent("gps-entity-place-loaded"))});r.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault();var t=e.target.getAttribute("name"),n=e.detail.intersection&&e.detail.intersection.object.el;if(n&&n===e.target){var i=document.createElement("span"),r=document.createElement("div");r.setAttribute("id","place-label"),i.innerText=t,r.appendChild(i),document.body.appendChild(r),setTimeout(function(){r.parentElement.removeChild(r)},1500)}}),e.appendChild(r)})})},function(e){return console.error("Error in retrieving position",e)},{enableHighAccuracy:!0,maximumAge:0,timeout:27e3})}}},[[9,0]]]);
//# sourceMappingURL=arjs-aframe-geo.js.map