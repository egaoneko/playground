{"version":3,"sources":["webpack:///./panzoom-matrix.js"],"names":["const","scene","document","querySelector","content","pz","panzoom","smoothScroll","svg","createElementNS","basis","createSVGMatrix","sRect","getBoundingClientRect","cRect","getBasis","ref","getTransform","x","y","scale","a","b","c","d","e","f","addEventListener","width","height","console","log","point","createSVGPoint","matrixTransform","inverse","c2w","w2c","moveBy","window"],"mappings":"2EAAAA,IAAMC,EAAQC,SAASC,cAAc,UAC/BC,EAAUF,SAASC,cAAc,YACjCE,EAAKC,QAAQL,GAAQM,cAAc,IACnCC,EAAMN,SAASO,gBAAgB,6BAA8B,OAC7DC,EAAQF,EAAIG,kBACZC,EAAQX,EAAMY,wBACdC,EAAQV,EAAQS,wBAEtB,SAASE,IACP,IAAAC,EAAsBX,EAAGY,eAAlBC,EAAAF,EAAAE,EAAGC,EAAAH,EAAAG,EAAGC,EAAAJ,EAAAI,MAOb,OANAV,EAAMW,EAAID,EACVV,EAAMY,EAAI,EACVZ,EAAMa,EAAI,EACVb,EAAMc,EAAIJ,EACVV,EAAMe,EAAIP,EACVR,EAAMgB,EAAIP,EACHT,EAqBTR,SAASC,cAAc,eACpBwB,iBAAiB,QAAO,WACvB3B,IAAMkB,EAAkB,GAAdN,EAAMgB,MACVT,EAAmB,GAAfP,EAAMiB,OAChBC,QAAQC,IAtBZ,SAAab,EAAGC,GACdnB,IAAMgC,EAAQxB,EAAIyB,iBAClBD,EAAMd,EAAIA,EACVc,EAAMb,EAAIA,EAEVnB,IAAMU,EAAQK,IACd,OAAOiB,EAAME,gBAAgBxB,EAAMyB,WAgBrBC,CAAIlB,EAAGC,MAGvBjB,SAASC,cAAc,mBACpBwB,iBAAiB,QAAO,WACvB3B,IAEMgC,EApBV,SAAad,EAAGC,GACdnB,IAAMgC,EAAQxB,EAAIyB,iBAClBD,EAAMd,EAAIA,EACVc,EAAMb,EAAIA,EAEVnB,IAAMU,EAAQK,IACd,OAAOiB,EAAME,gBAAgBxB,GAcb2B,CAFU,GAAdvB,EAAMc,MACS,GAAfd,EAAMe,QAEhBxB,EAAGiC,OAAqB,GAAd1B,EAAMgB,MAAcI,EAAMd,EAAkB,GAAfN,EAAMiB,OAAeG,EAAMb,KAGtEoB,OAAW,GAAIlC","file":"panzoom-matrix.js","sourcesContent":["const scene = document.querySelector('#scene');\nconst content = document.querySelector('#content');\nconst pz = panzoom(scene, {smoothScroll: false});\nconst svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\nconst basis = svg.createSVGMatrix();\nconst sRect = scene.getBoundingClientRect();\nconst cRect = content.getBoundingClientRect();\n\nfunction getBasis() {\n  const {x, y, scale} = pz.getTransform();\n  basis.a = scale;\n  basis.b = 0;\n  basis.c = 0;\n  basis.d = scale;\n  basis.e = x;\n  basis.f = y;\n  return basis;\n}\n\nfunction c2w(x, y) {\n  const point = svg.createSVGPoint();\n  point.x = x;\n  point.y = y;\n\n  const basis = getBasis();\n  return point.matrixTransform(basis.inverse());\n}\n\nfunction w2c(x, y) {\n  const point = svg.createSVGPoint();\n  point.x = x;\n  point.y = y;\n\n  const basis = getBasis();\n  return point.matrixTransform(basis);\n}\n\ndocument.querySelector('#get-center')\n  .addEventListener('click', () => {\n    const x = sRect.width * 0.5;\n    const y = sRect.height * 0.5;\n    console.log(c2w(x, y));\n  });\n\ndocument.querySelector('#move-to-center')\n  .addEventListener('click', () => {\n    const x = cRect.width * 0.5;\n    const y = cRect.height * 0.5;\n    const point = w2c(x, y);\n    pz.moveBy(sRect.width * 0.5 - point.x, sRect.height * 0.5 - point.y);\n  });\n\nwindow['pz'] = pz;\n"],"sourceRoot":""}