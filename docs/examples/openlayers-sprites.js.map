{"version":3,"sources":["webpack:///./openlayers-sprites.js"],"names":["const","iconInfo","offset","opacity","rotateWithView","rotation","scale","size","Math","PI","iconCount","length","icons","Array","i","info","ol","style","Icon","crossOrigin","src","features","e","geometry","geom","Point","random","feature","Feature","setStyle","Style","image","vectorSource","source","Vector","vector","layer","map","Map","layers","target","document","getElementById","view","View","center","zoom","overlayFeatures","clone","push","on","evt","innerHTML","window","setTimeout","forEachFeatureAtPixel","pixel","dragging","getEventPixel","originalEvent","hit","hasFeatureAtPixel","getTarget","cursor"],"mappings":"2EAgCA,IAhCAA,IAAMC,IACJC,QAAS,EAAG,GACZC,QAAS,EACTC,gBAAgB,EAChBC,SAAU,EACVC,MAAO,EACPC,MAAO,GAAI,MAEXL,QAAS,IAAK,IACdC,QAAS,IACTC,gBAAgB,EAChBC,SAAUG,KAAKC,GAAK,EACpBH,MAAO,KACPC,MAAO,GAAI,MAEXL,QAAS,GAAI,GACbC,QAAS,GACTC,gBAAgB,EAChBC,SAAUG,KAAKC,GAAK,EACpBH,MAAO,IACPC,MAAO,GAAI,MAEXL,QAAS,IAAK,GACdC,QAAS,EACTC,gBAAgB,EAChBC,SAAU,EACVC,MAAO,EACPC,MAAO,GAAI,MAGPG,EAAYT,EAASU,OACrBC,EAAQ,IAAIC,MAAMH,GACfI,EAAI,EAAGA,EAAIJ,IAAaI,EAAG,CAClCd,IAAMe,EAAOd,EAASa,GACtBF,EAAME,GAAK,IAAIE,GAAGC,MAAMC,MACtBhB,OAAQa,EAAKb,OACbC,QAASY,EAAKZ,QACdC,eAAgBW,EAAKX,eACrBC,SAAUU,EAAKV,SACfC,MAAOS,EAAKT,MACZC,KAAMQ,EAAKR,KACXY,YAAa,YACbC,IAAK,2BAQT,IAJApB,IACMqB,EAAW,IAAIR,MADA,KAEfS,EAAI,KAEDR,EAAI,EAAGA,EAJK,MAIeA,EAAG,CACrCd,IAAMuB,EAAW,IAAIP,GAAGQ,KAAKC,OAC1B,IAAQjB,KAAKkB,SAAWJ,EAAG,IAAQd,KAAKkB,SAAWJ,IAChDK,EAAU,IAAIX,GAAGY,QAAQL,GAC/BI,EAAQE,SACN,IAAIb,GAAGC,MAAMa,OACXC,MAAOnB,EAAME,GAAKJ,EAAY,OAGlCW,EAASP,GAAKa,EAoBhB,IAjBA3B,IAAMgC,EAAe,IAAIhB,GAAGiB,OAAOC,QACjCb,SAAUA,IAENc,EAAS,IAAInB,GAAGoB,MAAMF,QAC1BD,OAAQD,IAGJK,EAAM,IAAIrB,GAAGsB,KACjBC,QAASJ,GACTK,OAAQC,SAASC,eAAe,OAChCC,KAAM,IAAI3B,GAAG4B,MACXC,QAAS,EAAG,GACZC,KAAM,MAIJC,KACGjC,EAAI,EAAGA,EAjCK,IAiCaA,GAAK,GAAI,CACzCd,IAAMgD,EAAQ3B,EAASP,GAAGkC,QAC1BA,EAAMnB,SAAS,MACfkB,EAAgBE,KAAKD,GAGvB,IAAIhC,GAAGoB,MAAMF,QACXG,IAAKA,EACLJ,OAAQ,IAAIjB,GAAGiB,OAAOC,QACpBb,SAAU0B,IAEZ9B,MAAO,IAAID,GAAGC,MAAMa,OAClBC,MAAOnB,EAAMF,EAAY,OAI7B2B,EAAIa,GAAG,QAAS,SAASC,GACvBnD,IAAMe,EAAO0B,SAASC,eAAe,QACrC3B,EAAKqC,UACH,gEAEFC,OAAOC,WAAW,WAChBtD,IAAMqB,KACNgB,EAAIkB,sBAAsBJ,EAAIK,MAAO,SAAS7B,GAE5C,OADAN,EAAS4B,KAAKtB,IACP,IAGe,IAApBN,EAASV,OACXI,EAAKqC,UAAY,oBACR/B,EAASV,OAAS,EAC3BI,EAAKqC,UAAY,OAAS/B,EAASV,OAAS,eAE5CI,EAAKqC,UAAY,qCAElB,KAGLf,EAAIa,GAAG,cAAe,SAASC,GAC7B,IAAIA,EAAIM,SAAR,CAGAzD,IAAMwD,EAAQnB,EAAIqB,cAAcP,EAAIQ,eAC9BC,EAAMvB,EAAIwB,kBAAkBL,GAClCnB,EAAIyB,YAAY7C,MAAM8C,OAASH,EAAM,UAAY","file":"openlayers-sprites.js","sourcesContent":["const iconInfo = [{\n  offset: [0, 0],\n  opacity: 1.0,\n  rotateWithView: true,\n  rotation: 0.0,\n  scale: 1.0,\n  size: [55, 55]\n}, {\n  offset: [110, 86],\n  opacity: 0.75,\n  rotateWithView: false,\n  rotation: Math.PI / 2.0,\n  scale: 1.25,\n  size: [55, 55]\n}, {\n  offset: [55, 0],\n  opacity: 0.5,\n  rotateWithView: true,\n  rotation: Math.PI / 3.0,\n  scale: 1.5,\n  size: [55, 86]\n}, {\n  offset: [212, 0],\n  opacity: 1.0,\n  rotateWithView: true,\n  rotation: 0.0,\n  scale: 1.0,\n  size: [44, 44]\n}];\n\nconst iconCount = iconInfo.length;\nconst icons = new Array(iconCount);\nfor (let i = 0; i < iconCount; ++i) {\n  const info = iconInfo[i];\n  icons[i] = new ol.style.Icon({\n    offset: info.offset,\n    opacity: info.opacity,\n    rotateWithView: info.rotateWithView,\n    rotation: info.rotation,\n    scale: info.scale,\n    size: info.size,\n    crossOrigin: 'anonymous',\n    src: 'data/img/butterfly.png'\n  });\n}\n\nconst featureCount = 500;\nconst features = new Array(featureCount);\nconst e = 25000000;\n\nfor (let i = 0; i < featureCount; ++i) {\n  const geometry = new ol.geom.Point(\n    [2 * e * Math.random() - e, 2 * e * Math.random() - e]);\n  const feature = new ol.Feature(geometry);\n  feature.setStyle(\n    new ol.style.Style({\n      image: icons[i % (iconCount - 1)]\n    })\n  );\n  features[i] = feature;\n}\n\nconst vectorSource = new ol.source.Vector({\n  features: features\n});\nconst vector = new ol.layer.Vector({\n  source: vectorSource\n});\n\nconst map = new ol.Map({\n  layers: [vector],\n  target: document.getElementById('map'),\n  view: new ol.View({\n    center: [0, 0],\n    zoom: 5\n  })\n});\n\nconst overlayFeatures = [];\nfor (let i = 0; i < featureCount; i += 30) {\n  const clone = features[i].clone();\n  clone.setStyle(null);\n  overlayFeatures.push(clone);\n}\n\nnew ol.layer.Vector({\n  map: map,\n  source: new ol.source.Vector({\n    features: overlayFeatures\n  }),\n  style: new ol.style.Style({\n    image: icons[iconCount - 1]\n  })\n});\n\nmap.on('click', function(evt) {\n  const info = document.getElementById('info');\n  info.innerHTML =\n    'Hold on a second, while I catch those butterflies for you ...';\n\n  window.setTimeout(function() {\n    const features = [];\n    map.forEachFeatureAtPixel(evt.pixel, function(feature) {\n      features.push(feature);\n      return false;\n    });\n\n    if (features.length === 1) {\n      info.innerHTML = 'Got one butterfly';\n    } else if (features.length > 1) {\n      info.innerHTML = 'Got ' + features.length + ' butterflies';\n    } else {\n      info.innerHTML = 'Couldn\\'t catch a single butterfly';\n    }\n  }, 1);\n});\n\nmap.on('pointermove', function(evt) {\n  if (evt.dragging) {\n    return;\n  }\n  const pixel = map.getEventPixel(evt.originalEvent);\n  const hit = map.hasFeatureAtPixel(pixel);\n  map.getTarget().style.cursor = hit ? 'pointer' : '';\n});\n"],"sourceRoot":""}