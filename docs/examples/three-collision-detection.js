(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{2:function(t,i,e){"use strict";function s(t,i){return Math.floor(Math.random()*(i-t+1)+t)}function a(t,i){return{x:t.x*Math.cos(i)-t.y*Math.sin(i),y:t.x*Math.sin(i)+t.y*Math.cos(i)}}function n(t,i){var e=t.velocity.x-i.velocity.x,s=t.velocity.y-i.velocity.y;if(e*(i.x-t.x)+s*(i.y-t.y)<0)return!1;var n=-Math.atan2(i.y-t.y,i.x-t.x),o=t.mass,r=i.mass,h=a(t.velocity,n),c=a(i.velocity,n),d={x:h.x*(o-r)/(o+r)+2*c.x*r/(o+r),y:h.y},u={x:c.x*(o-r)/(o+r)+2*h.x*r/(o+r),y:c.y},y=a(d,-n),l=a(u,-n);return t.velocity.x=y.x,t.velocity.y=y.y,i.velocity.x=l.x,i.velocity.y=l.y,!0}e.d(i,"a",function(){return s}),e.d(i,"b",function(){return n})},48:function(t,i,e){"use strict";e.r(i);var s,a,n,o,r,h,c,d=e(2),u=100,y=.5*u,l=[9169405,5307003,16758892,16742854,12424185,16733525,15858316],x=[],v=function(t,i,e,s,a,n,o,r,h){this.x=t,this.y=i,this.z=e,this.velocity={x:s,y:a,z:n},this.radius=o,this.color=r,this.mass=h,this.opacity=0;var c=new THREE.SphereGeometry(o),d=new THREE.MeshBasicMaterial({color:r});this.mesh=new THREE.Mesh(c,d),this.mesh.position.set(this.x,this.y,this.z)};function E(){o=h.clientWidth,r=h.clientHeight,n.aspect=o/r,n.updateProjectionMatrix(),s.setSize(o,r)}v.prototype.update=function(t){var i=this;t.forEach(function(t){if(i!==t&&i.isCollided(t)){var e=i.velocity;i.velocity=t.velocity,t.velocity=e}}),this.x+=this.velocity.x,this.y+=this.velocity.y,this.z+=this.velocity.z,(this.x+this.radius>=y||this.x-this.radius<=-y)&&(this.velocity.x*=-1),(this.y+this.radius>=y||this.y-this.radius<=-y)&&(this.velocity.y*=-1),(this.z+this.radius>=y||this.z-this.radius<=-y)&&(this.velocity.z*=-1),this.x-this.radius<-y&&(this.x=this.radius),this.y-this.radius<-y&&(this.y=this.radius),this.z-this.radius<-y&&(this.z=this.radius),this.x+this.radius>y&&(this.x=y-this.radius),this.y+this.radius>y&&(this.y=y-this.radius),this.z+this.radius>y&&(this.z=y-this.radius),this.mesh.position.set(this.x,this.y,this.z)},v.prototype.isCollided=function(t){var i=this.x-t.x,e=this.y-t.y,s=this.z-t.z;return Math.pow(i,2)+Math.pow(e,2)+Math.pow(s,2)<=Math.pow(this.radius+t.radius,2)},function(){h=document.getElementById("container"),o=h.clientWidth,r=h.clientHeight,(a=new THREE.Scene).background=new THREE.Color(2632246),(n=new THREE.PerspectiveCamera(45,o/r,1,1e3)).position.set(50,80,130),n.lookAt(0,0,0);var t=new THREE.GridHelper(200,20);a.add(t);var i=new THREE.AxesHelper(100);i.position.set(0,0,0),a.add(i),(s=new THREE.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),s.setSize(o,r),h.appendChild(s.domElement),new THREE.OrbitControls(n,s.domElement).screenSpacePanning=!0,function(){var t=new THREE.BoxGeometry(u,u,u),i=new THREE.MeshBasicMaterial({color:268435455,opacity:.2,transparent:!0}),e=new THREE.MeshBasicMaterial({color:16777215,wireframe:!0});c=THREE.SceneUtils.createMultiMaterialObject(t,[i,e]),a.add(c);for(var s=0,n=function(t){var i=Object(d.a)(1,5),e=Object(d.a)(-y+i,y-i),n=Object(d.a)(-.5,.5),r=Object(d.a)(-y+i,y-i),h=Object(d.a)(-.5,.5),c=Object(d.a)(-y+i,y-i),u=Object(d.a)(-.5,.5),E=l[Object(d.a)(0,l.length)],p=new v(e,r,c,n,h,u,i,E,1);if(x.some(function(t){return t.isCollided(p)})){if((s+=1)>100)return;t-=1}else s=0,x.push(p),a.add(p.mesh);o=t},o=0;o<100;o++)n(o)}(),window.addEventListener("resize",E,!1)}(),function t(){requestAnimationFrame(t);s.render(a,n),x.forEach(function(t){return t.update(x)})}()}},[[48,0]]]);
//# sourceMappingURL=three-collision-detection.js.map